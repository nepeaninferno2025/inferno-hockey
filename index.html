<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inferno Nepean Hockey - Admin Panel</title>
<style>
body{margin:0;font-family:Arial;background:#0f0f0f;color:#f5f5f5}
header{background:linear-gradient(90deg,#b30000,#ff4500);padding:20px;display:flex;align-items:center;gap:20px;flex-wrap:wrap}
header img{height:80px}
nav{display:flex;gap:15px;flex-wrap:wrap}
nav a{color:white;text-decoration:none;font-weight:bold;cursor:pointer}
nav a:hover{text-decoration:underline}
section{padding:40px 20px;max-width:1200px;margin:auto}
h2{border-left:5px solid #ff4500;padding-left:12px}
.card{background:#1a1a1a;padding:20px;border-radius:14px;margin-bottom:25px}
input,textarea,select,button{padding:8px;margin:5px;border-radius:6px;border:none}
textarea, select{width:100%}
button{background:#ff4500;color:black;font-weight:bold;cursor:pointer}
button:hover{opacity:.9}
table{width:100%;border-collapse:collapse;margin-top:15px;min-width:350px}
th,td{padding:10px;border-bottom:1px solid #333}
th{background:#222}
.table-wrap{overflow-x:auto}
#loginOverlay{position:fixed;inset:0;background:#0f0f0f;display:flex;align-items:center;justify-content:center;flex-direction:column;z-index:9999}
#logoutBtn{display:none}
.page{display:none}
.page.active{display:block}
.admin-only{display:none}
@media(max-width:700px){header{flex-direction:column}nav{justify-content:center}input,select,button{width:100%}}
</style>
</head>
<body>

<!-- LOGIN -->
<div id="loginOverlay">
<h2>Admin Login</h2>
<input id="adminUser" placeholder="Username">
<input type="password" id="adminPass" placeholder="Password">
<button onclick="adminLogin()">Login</button>
</div>

<header class="admin-only">
<img id="logoImg" src="assets/inferno-logo.png" alt="Inferno Logo">
<nav>
<a onclick="showPage('about')">About</a>
<a onclick="showPage('news')">News</a>
<a onclick="showPage('roster')">Roster</a>
<a onclick="showPage('stats')">Player Stats</a>
<a onclick="showPage('league')">League Standings</a>
<a onclick="showPage('videos')">Videos</a>
<a onclick="showPage('coaches')">Coaches</a>
</nav>
<button id="logoutBtn" onclick="logout()">Logout</button>
</header>

<!-- ABOUT -->
<section id="about" class="page admin-only">
<h2>About Us</h2>
<div class="card">
<textarea id="aboutInput"></textarea>
<button onclick="saveAbout()">Save About</button>
</div>
</section>

<!-- NEWS -->
<section id="news" class="page admin-only">
<h2>News</h2>
<div class="card">
<input id="newsTitle" placeholder="Title">
<textarea id="newsText" placeholder="News content"></textarea>
<input type="file" id="newsImage">
<button onclick="addNews()">Add News</button>
</div>
<div id="newsFeed"></div>
</section>

<!-- ROSTER -->
<section id="roster" class="page admin-only">
<h2>Roster</h2>
<div class="card">
<form id="rosterForm">
<input placeholder="Player Name" required>
<select required>
<option value="">Group</option>
<option value="F">Forward</option>
<option value="D">Defense</option>
<option value="G">Goalie</option>
</select>
<select required>
<option value="">Position</option>
<option value="Center">Center</option>
<option value="Left Wing">Left Wing</option>
<option value="Right Wing">Right Wing</option>
<option value="Defense">Defense</option>
<option value="Goalie">Goalie</option>
</select>
<input placeholder="Jersey #" required>
<button>Add Player</button>
</form>
<div class="table-wrap">
<table>
<thead><tr><th>Name</th><th>#</th><th>Position</th><th>Group</th><th>Actions</th></tr></thead>
<tbody id="rosterTable"></tbody>
</table>
</div>
</div>
</section>

<!-- Player Stats -->
<section id="stats" class="page admin-only">
<h2>Player Stats</h2>
<div class="card">
<textarea id="statsInput" placeholder="Update player stats"></textarea>
<button onclick="saveStats()">Save Stats</button>
</div>
</section>

<!-- League Standings -->
<section id="league" class="page admin-only">
<h2>League Standings</h2>
<div class="card">
<input id="leagueLink" placeholder="Link to standings page">
<button onclick="saveLeague()">Save</button>
<p>Current Link: <a id="leagueCurrent" href="#" target="_blank"></a></p>
</div>
</section>

<!-- Videos -->
<section id="videos" class="page admin-only">
<h2>Videos</h2>
<div class="card">
<textarea id="videosInput" placeholder="Paste video URLs, one per line"></textarea>
<button onclick="saveVideos()">Save Videos</button>
<div id="videosList"></div>
</div>
</section>

<!-- Coaches -->
<section id="coaches" class="page admin-only">
<h2>Coaches</h2>
<div class="card">
<textarea id="coachesInput" placeholder="Coach info"></textarea>
<button onclick="saveCoaches()">Save Coaches</button>
<div id="coachesList"></div>
</div>
</section>

<footer class="admin-only">Inferno Nepean Hockey Â© 2025</footer>

<script>
const ADMIN_USER = "admin";
const ADMIN_PASS = "password";

function adminLogin(){
  if(adminUser.value!==ADMIN_USER||adminPass.value!==ADMIN_PASS) return alert("Wrong credentials");
  loginOverlay.style.display="none";
  document.querySelectorAll(".admin-only").forEach(e=>e.style.display="block");
  showPage("about");
}
function logout(){location.reload();}
function showPage(id){document.querySelectorAll(".page").forEach(p=>p.style.display="none");document.getElementById(id).style.display="block";}

// Logo stays as-is from previous setup

// LocalStorage functions for all editable content
function saveAbout(){ localStorage.about=aboutInput.value; alert("Saved"); }
function addNews(){ 
  const news = {title:newsTitle.value,text:newsText.value};
  let arr = JSON.parse(localStorage.news||'[]');
  arr.push(news);
  localStorage.news=JSON.stringify(arr);
  renderNews(); alert("News Added");
}
function renderNews(){ 
  const arr=JSON.parse(localStorage.news||'[]');
  newsFeed.innerHTML = arr.map(n=>`<div class="card"><h3>${n.title}</h3><p>${n.text}</p></div>`).join('');
}
function saveStats(){ localStorage.stats=statsInput.value; alert("Saved"); }
function saveLeague(){ localStorage.league=leagueLink.value; leagueCurrent.href=leagueLink.value; leagueCurrent.textContent=leagueLink.value; alert("Saved"); }
function saveVideos(){ 
  const arr = videosInput.value.split("\n").filter(v=>v);
  localStorage.videos=JSON.stringify(arr);
  videosList.innerHTML = arr.map(v=>`<a href="${v}" target="_blank">${v}</a><br>`).join('');
  alert("Saved");
}
function saveCoaches(){ localStorage.coaches=coachesInput.value; coachesList.textContent=coachesInput.value; alert("Saved"); }

// Roster
let rosterData = JSON.parse(localStorage.roster||'[]');
function renderRoster(){ 
  rosterTable.innerHTML='';
  rosterData.forEach((p,i)=>{ 
    const tr=document.createElement("tr");
    tr.innerHTML=`<td>${p.name}</td><td>${p.num}</td><td>${p.position}</td><td>${p.group}</td>
    <td><button onclick="editPlayer(${i})">Edit</button><button onclick="deletePlayer(${i})">Delete</button></td>`;
    rosterTable.appendChild(tr);
  });
}
document.getElementById("rosterForm").onsubmit=e=>{
  e.preventDefault();
  const [n,g,pos,num]=[e.target[0].value,e.target[1].value,e.target[2].value,e.target[3].value];
  rosterData.push({name:n,group:g,position:pos,num});
  localStorage.roster=JSON.stringify(rosterData);
  renderRoster();
  e.target.reset();
}
window.editPlayer=i=>{
  const p=prompt("Edit player JSON:",JSON.stringify(rosterData[i]));
  if(!p) return;
  rosterData[i]=JSON.parse(p);
  localStorage.roster=JSON.stringify(rosterData);
  renderRoster();
}
window.deletePlayer=i=>{
  rosterData.splice(i,1);
  localStorage.roster=JSON.stringify(rosterData);
  renderRoster();
}

// Initialize display
renderNews();
renderRoster();
videosList.innerHTML = (JSON.parse(localStorage.videos||'[]')||[]).map(v=>`<a href="${v}" target="_blank">${v}</a><br>`).join('');
coachesList.textContent = localStorage.coaches||'';
leagueCurrent.href=localStorage.league||'#'; leagueCurrent.textContent=localStorage.league||'';
aboutInput.value=localStorage.about||'';
statsInput.value=localStorage.stats||'';

</script>
</body>
</html>
